## Подготовка окружения для стресс-тестирования

1. Убедитесь, что у вас установлен Docker и Docker Compose.
2. В файле `docker-compose.yml` уже добавлен сервис Redis и необходимые переменные окружения для backend.
3. Для запуска всех сервисов выполните:

```
docker-compose up --build
```

4. Проверьте, что backend подключается к Redis (логи контейнера backend).
5. Для проведения нагрузочного теста используйте Apache JMeter или аналогичный инструмент, направляя запросы на endpoint backend (порт 4000).
6. Метрики производительности можно отслеживать через Prometheus и Grafana (порты 9090 и 3001 соответственно).

### Пример переменных окружения для backend (файл `.env`):

```
REDIS_HOST=redis
REDIS_PORT=6379
```

### Примечания
- Все сервисы подключены к общей сети Docker Compose.
- Для корректной работы мониторинга убедитесь, что Prometheus и Grafana настроены на сбор метрик с backend.

## Тестирование производительности

Для оценки производительности приложения с использованием Redis и без него, в проекте доступны инструменты бенчмаркинга:

### HTTP API Бенчмарк

Для запуска тестирования HTTP API выполните:

```bash
docker-compose -f docker-compose-benchmark.yml up
```

Результаты тестирования будут доступны в директории `./results/`.

### WebSocket Бенчмарк 

Для запуска тестирования WebSocket соединений выполните:

```bash
docker-compose -f docker-compose-websocket-benchmark.yml up
```

Результаты тестирования будут доступны в директории `./results/`.

### Интерпретация результатов

После запуска бенчмарков будут сгенерированы JSON-файлы с сырыми данными и HTML-отчеты с наглядным представлением результатов. В отчетах вы найдете:

- Сравнение задержки (latency) обработки запросов
- Пропускную способность (throughput)
- Количество обработанных запросов в секунду (RPS)
- Процент успешно доставленных сообщений для WebSocket
- Общее заключение о производительности с Redis и без него 